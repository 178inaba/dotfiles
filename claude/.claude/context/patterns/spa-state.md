# SPA画面遷移での状態保持設計

一覧画面から詳細画面への遷移時に、ユーザーの操作状態（ページ番号・検索条件・ソート順等）を保持する設計パターン。

## 基本概念
- **課題**: 詳細画面からブラウザの戻るボタンで戻ると、一覧画面が初期状態にリセットされる
- **解決策**: 遷移前の状態を一時保存し、戻り時に復元する

## 実装アプローチ

### 1. SessionStorage パターン（推奨）
- 画面遷移前にSessionStorageに状態を保存
- 戻り時にSessionStorageから状態を復元
- ブラウザセッション終了時に自動クリア

### 2. URL クエリパラメータ パターン
- 状態をURLに埋め込んで保持
- ブックマーク・共有可能
- URLが長くなりがち

### 3. 状態管理ライブラリ パターン
- Vuex、Redux等で状態を一元管理
- アプリケーション全体での状態共有
- リロード時に状態が失われる

## 設計上の重要ポイント
1. **一意性の確保**: 同じエンティティへの戻りかを必ずチェック
2. **メモリリーク防止**: 使用後は必ず状態をクリア
3. **エラー耐性**: データ破損時は通常フローにフォールバック
4. **条件付き復元**: 状態が設定されている場合のみデータ再取得
