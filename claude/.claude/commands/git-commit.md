---
description: 変更ファイルを適切な単位でコミット
---

# /git-commit

## 使用方法
```
/git-commit
```

## 実行内容
1. `git status` で変更ファイルを確認
2. `git diff` で差分の規模と内容を確認
3. 変更の分析と分割判断：
   - **小さな変更**（1-3ファイル、単一機能、関連する変更）: 一括でコミット
   - **大きな変更**（4ファイル以上、複数機能）: 機能単位、ファイルタイプ、依存関係で論理的に分割
4. 分割してコミットする場合：
   - `git add -p` や `git add [特定ファイル]` で段階的にステージング
   - 各コミットが独立して意味を持つようにする
   - 各コミットにビルドが通る状態を保つ（可能な限り）
5. `git log --oneline -10` で過去のコミットメッセージスタイルを確認
   - 言語（英語/日本語）の判定
   - プロジェクト固有のフォーマット（type(scope):形式など）の検出
6. 各コミットに明確で簡潔なメッセージを付与
   - **言語統一**: 要約行と詳細は同じ言語で記述（過去のコミットログから判断）
   - **要約行**: 72文字以内（目安50-60文字）で変更内容を端的に表現
   - **詳細**: 必要な場合のみ追加（大半のコミットは要約行のみで十分）
   - **形式**: 「動詞 + 対象 + (理由)」（例: "Fix login timeout issue"）
   - **避けるべき**: 実装の詳細な説明、コードの羅列、冗長な背景説明
   - **参考**: Linuxカーネルの中央値は55文字、94%が72文字以内
7. コミット後の確認
   - `git status` で正常にコミットされたことを確認
   - 必要に応じて `git log -1` でコミット内容を確認
